task purge(type: Delete){ 
    //println 'Cleaning up old files'
    delete 'build/app_python.zip'
}

task dependances(type: Exec){
    executable 'sh'
    args '-c', 'pip3 install -r requirements.txt'
    standardOutput = new ByteArrayOutputStream()
    ext.output = { return standardOutput.toString() }
}

task quality(type: Exec){
    executable 'sh'
    args '-c', 'python3 -m pylint src -f json | python3 -m pylint-json2html -o pylint.html'
}

task packageDistribution(type: Zip){
    from ('app') into ('.')
    archiveFileName = 'app_python.zip'
    destinationDirectory = file("build")
}
